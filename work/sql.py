from urllib2 import urlopen, HTTPError

#diagramIds = ['80000','80001','80002','80003','80004','80005','80006','80007','80008','80666','1000895','1404456','1417920','1481241','2250872','2251338','2251363','2251496','2251512','4159171','4159278','4159280','4159282','4159285','4159287','4159290','4159294','4159298','4159382','4212046','4212053','4212967','4212968','4216261','4216318','4216340','4216346','4216347','4216348','4216350','4216424','4218474','4218569','4218572','4218592','4218596','4218635','4218666','4218668','4218669','4218693','4218694','4218695','4218696','4218697','4218700','4218704','4218705','4218706','4218707','4218709','4219113','4219152','4219153','4219157','4219186','4219187','4219193','4219239','4219240','4219295','4219309','4219316','4219353','4219357','4219361','4219364','4219369','4219379','4219380','4219396','4219397','4219398','4219400','4219401','4219403','4219404','4219413','4219415','4219420','4219423','4219426','4219428','4219429','4219430','4219431','4219437','4219438','4219440','4219441','4219445','4219446','4219452','4219464','4219469','4219470','4219471','4219472','4219473','4219474','4219475','4219495','4219496','4219498','4219502','4219503','4219504','4219505','4219506','4219507','4219508','4219509','4219510','4219511','4219514','4219515','4219516','4219521','4219538','4219539','4219540','4219543','4219547','4219555','4219557','4219572','4219585','4219592','4219593','4219594','4219595','4219596','4219600','4219601','4219612','4219613','4219619','4219622','4219623','4219624','4219626','4219636','4219643','4219661','4219662','4219667','4219674','4219676','4219677','4219683','4219684','4219685','4219686','4219687','4219688','4219689','4219690','4219691','4219692','4219696','4219698','4219700','4219702','4219704','4219706','4219709','4219714','4219716','4219717','4219719','4219723','4219730','4219731','4219733','4219735','4219736','4219738','4219741','4219756','4219758','4219759','4219761','4219762','4219778','4219779','4219799','4219800','4219801','4219802','4219804','4219812','4219830','4219832','4219837','4219851','4219862','4219865','4219878','4219883','4219884','4219885','4219887','4219889','4219891','4219895','4219899','4219902','4219919','4219920','4219929','4219941','4219950','4219953','4219960','4219962','4219965','4219966','4219968','4219970','4219971','4219973','4219976','4219983','4219994','4220002','4220003','4220008','4220010','4220012','4220022','4220027','4220028','4220030','4220032','4220036','4220038','4220047','4220049','4220051','4220058','4220065','4220070','4220073','4220074','4220075','4220076','4220077','4220078','4220079','4220080','4220081','4220084','4220085','4220092','4220098','4220102','4220107','4220111','4220120','4220121','4220123','4220124','4220126','4220127','4220129','4220130','4220132','4220134','4220135','4220136','4220140','4220141','4220146','4220147','4220148','4220149','4220156','4220157','4220164','4220165','4220166','4220168','4220169','4220170','4220173','4220176','4220181','4220191','4220192','4220196','4220197','4220206','4220218','4220219','4220221','4220231','4220258','4220259','4220278','4220284','4220293','4220298','4220306','4220307','4220319','4220320','4220321','4220339','4220341','4220343','4220348','4220352','4220354','4220359','4220360','4220362','4220364','4220366','4220372','4220373','4220381','4220385','4220386','4220388','4220390','4220391','4220400','4220417','4220419','4220433','4220434','4220436','4220437','4220438','4220439','4220440','4220441','4220442','4220443','4220444','4220445','4220446','4220447','4220461','4220495','4220517','4220521','4220529','4220540','4220542','4220548','4220567','4220568','4220576','4220577','4220580','4220586','4220591','4220592','4220593','4220594','4220595','4220596','4220597','4220601','4220605','4220610','4220616','4220622']
diagramIds = ['5000','5001','5002','90170','90172','90173','90175','90181','90183','90199','90201','90208','90216','90190']
#urlBase = 'http://stage.gliffy.com/go/publish/'
urlBase = 'http://localhost:9000/go/publish/'
length = str(len(diagramIds))
while True:
	i=0
	for diagramId in diagramIds:
		print(str(i)+"/"+length)
		i+=1
		url = urlBase+diagramId
		print("\tdiagramId: "+diagramId)
		try:
			response = urlopen(url)
			html = response.read()
		except HTTPError:
			print("\tcan't reach: "+diagramId)
print("done");
